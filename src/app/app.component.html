<div class="shell">
  <header class="topbar" [class.topbar-solo]="!auth.isLoggedIn() && isInventoryRoute">
    <a class="brand" routerLink="/" aria-label="Berecons Trading home">
      <img class="brand-logo" src="/branding/bereconstrading.png?v=20260223a" alt="Berecons Trading" />
    </a>
    <nav class="nav" *ngIf="auth.isLoggedIn() || !isInventoryRoute">
      <a *ngIf="!isInventoryRoute" routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Inventory</a>
      <ng-container *ngIf="auth.isLoggedIn(); else customerLinks">
        <ng-container *ngIf="isAdminRoute; else adminGlobalLinks">
          <ng-container [ngSwitch]="adminView">
            <ng-container *ngSwitchCase="'products'">
              <a routerLink="/admin/viewWishlist">View Wishlists</a>
              <a routerLink="/admin/viewBookings">View Bookings</a>
            </ng-container>
            <ng-container *ngSwitchCase="'wishlists'">
              <a routerLink="/admin/viewBookings">View Bookings</a>
              <a routerLink="/admin/addProducts">Add Products</a>
            </ng-container>
            <ng-container *ngSwitchCase="'bookings'">
              <a routerLink="/admin/viewWishlist">View Wishlists</a>
              <a routerLink="/admin/addProducts">Add Products</a>
            </ng-container>
          </ng-container>
        </ng-container>
        <ng-template #adminGlobalLinks>
          <a routerLink="/admin/addProducts">Add Products</a>
          <a routerLink="/admin/viewWishlist">View Wishlists</a>
          <a routerLink="/admin/viewBookings">View Bookings</a>
        </ng-template>

        <button
          type="button"
          class="nav-icon"
          (click)="logout()"
          title="Log out"
          aria-label="Log out"
        >
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path
              d="M12 2v10"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path
              d="M7.5 4.7a8 8 0 1 0 9 0"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>
        </button>
      </ng-container>
      <ng-template #customerLinks>
        <a routerLink="/wishlist" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Wishlists</a>
        <a routerLink="/booking" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Bookings</a>
      </ng-template>
    </nav>
  </header>
  <main class="content">
    <router-outlet></router-outlet>
  </main>
</div>
<app-toast></app-toast>
